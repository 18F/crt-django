{% load static %}

<div class="complaint-card">
  <form
    id="filters-form"
    class="usa-form"
    method="GET"
    action="/form/view"
    novalidate
  >
    <div id="view-section-filter">
      <label for="{{form.assigned_section.attrs.id}}" class="usa-label margin-bottom-1">
        <b>{{form.assigned_section.label }}</b>
      </label>
      {{ form.assigned_section }}
    </div>
    <div>
      <h3>Filters</h3>
      <div id="contact-name-filter">
        <label for="{{form.contact_name.attrs.id}}" class="usa-label margin-bottom-1">
          <b>{{form.contact_name.label }}</b>
        </label>
        {{ form.contact_name }}
      </div>
    </div>
    <div class="margin-top-2">
      <button type="submit" class="usa-button usa-button--primary">Filter results</button>
    </div>
  </form>
  <div id="active-filters" class="active-filters margin-top-2">
    {% for key, value in filters.items %}
      {% for item in value %}
        <span class="usa-sr-only">{{key}}: {{item}}</span>
        <button
          class="filter-control usa-button usa-button--light margin-top-2"
          aria-label="Remove filter {{ key}}: {{item}} from the list"
          data-filter-name="{{key}}"
          data-filter-value="{{item}}"
        >
          {% if key == 'assigned_section' %} Routed {% else %} {{key}} {% endif %}: {{item}}  
          <div class="divider"></div>
          <img src="{% static "img/close-blue-50-alt.svg" %}" class="filter-action">
        </button>
        {% endfor %}
    {% endfor %}
  </div>
</div>
